
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>1. Profiles in Pisces &#8212; Pisces  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'reference/profiles/profiles_overview';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2. Profiles For Developers" href="profiles_developer.html" />
    <link rel="prev" title="1. Galaxy Cluster Modeling" href="../models/galaxy_clusters.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
  
    <p class="title logo__title">Pisces  documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api.html">
    API
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Pisces User Guide
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../../api.html">
    API
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../index.html">
    Pisces User Guide
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../models/modeling_grids.html">1. Model Grid Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../models/pipelines_solvers.html">2. Model Solvers</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../models/modeling_overview.html">1. Introduction to Pisces Modeling</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../models/galaxy_clusters.html">1. Galaxy Cluster Modeling</a></li>
</ul>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">1. Profiles in Pisces</a></li>
<li class="toctree-l1"><a class="reference internal" href="profiles_developer.html">2. Profiles For Developers</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../geometry/geometry_overview.html">1. Geometry Overview</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../geometry/poisson_equation.html">1. Solutions to the Poisson Equation</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../particles/sampling.html">1. Sampling Particles From Models</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">Pisces User Guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis"><span class="section-number">1. </span>Profiles in Pisces</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="profiles-in-pisces">
<span id="profiles-overview"></span><h1><span class="section-number">1. </span>Profiles in Pisces<a class="headerlink" href="#profiles-in-pisces" title="Link to this heading">#</a></h1>
<p>Profiles are a fundamental component in Pisces, designed to represent mathematical models with symbolic and numerical support.
They are particularly useful for modeling quantities that depend on one or more independent variables, such as density,
temperature, or velocity distributions.</p>
<p>This guide provides an overview of the <a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.html#pisces.profiles.base.Profile" title="pisces.profiles.base.Profile"><code class="xref py py-class docutils literal notranslate"><span class="pre">Profile</span></code></a> base class, its key attributes and methods,
and how to create your own profiles.</p>
<p>At their core, profiles in Pisces are mathematical functions parameterized by:</p>
<ul class="simple">
<li><p><strong>Independent variables</strong> (<a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.AXES.html#pisces.profiles.base.Profile.AXES" title="pisces.profiles.base.Profile.AXES"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AXES</span></code></a>): Variables that the profile depends on.</p></li>
<li><p><strong>Parameters</strong> (<a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.DEFAULT_PARAMETERS.html#pisces.profiles.base.Profile.DEFAULT_PARAMETERS" title="pisces.profiles.base.Profile.DEFAULT_PARAMETERS"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DEFAULT_PARAMETERS</span></code></a>): Values that define the behavior or shape of the profile.</p></li>
<li><p><strong>Units</strong> (<a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.DEFAULT_UNITS.html#pisces.profiles.base.Profile.DEFAULT_UNITS" title="pisces.profiles.base.Profile.DEFAULT_UNITS"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DEFAULT_UNITS</span></code></a>): The dimensionality of the profile’s output.</p></li>
</ul>
<p>Each <a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.html#pisces.profiles.base.Profile" title="pisces.profiles.base.Profile"><code class="xref py py-class docutils literal notranslate"><span class="pre">Profile</span></code></a> has a base function which incorporates these axes and parameters, and each
instance of the profile represents a specific choice of the parameters.</p>
<p>Profiles support both symbolic manipulation (via <a class="reference external" href="https://www.sympy.org">Sympy</a>) and numerical evaluation (via <code class="docutils literal notranslate"><span class="pre">numpy</span></code>),
making them versatile for analytical and computational tasks.</p>
<section id="initializing-and-calling-profiles">
<h2><span class="section-number">1.1. </span>Initializing and Calling Profiles<a class="headerlink" href="#initializing-and-calling-profiles" title="Link to this heading">#</a></h2>
<p>At the surface, <a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.html#pisces.profiles.base.Profile" title="pisces.profiles.base.Profile"><code class="xref py py-class docutils literal notranslate"><span class="pre">Profile</span></code></a> classes are easy to work with. To initialize one, you simply need
to feed it the relevant parameters (<a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.DEFAULT_PARAMETERS.html#pisces.profiles.base.Profile.DEFAULT_PARAMETERS" title="pisces.profiles.base.Profile.DEFAULT_PARAMETERS"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DEFAULT_PARAMETERS</span></code></a>) as <code class="docutils literal notranslate"><span class="pre">kwargs</span></code>. For example, we can
create and plot a <a class="reference internal" href="../../_as_gen/pisces.profiles.density.NFWDensityProfile.html#pisces.profiles.density.NFWDensityProfile" title="pisces.profiles.density.NFWDensityProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">NFWDensityProfile</span></code></a> very simply:</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-text">Example</span><span class="sd-summary-state-marker sd-summary-chevron-right"><svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-right" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"></path></svg></span></summary><div class="sd-summary-content sd-card-body docutils">
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pisces.profiles.density</span> <span class="kn">import</span> <span class="n">NFWDensityProfile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nfw_density</span> <span class="o">=</span> <span class="n">NFWDensityProfile</span><span class="p">(</span><span class="n">rho_0</span><span class="o">=</span><span class="mf">1e5</span><span class="p">,</span><span class="n">r_s</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">radii</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">geomspace</span><span class="p">(</span><span class="mf">1e-2</span><span class="p">,</span><span class="mf">1e4</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create the plot.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">radii</span><span class="p">,</span><span class="n">nfw_density</span><span class="p">(</span><span class="n">radii</span><span class="p">),</span><span class="s1">&#39;k-&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Density, Msun/kpc^3&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;Radius, kpc&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p class="sd-card-text">(<a class="reference download internal" download="" href="../../_downloads/402a535a991da5c6065dc3129f118b63/profiles_overview-1.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>, <a class="reference download internal" download="" href="../../_downloads/cc5803633c632a639306b7763e418a7b/profiles_overview-1.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="../../_downloads/04dc2a8179840e4283f8a27a13113320/profiles_overview-1.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="../../_downloads/3232819ff213b2f2dabda87e273e8513/profiles_overview-1.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-default">
<img alt="../../_images/profiles_overview-1.png" class="plot-directive" src="../../_images/profiles_overview-1.png" />
</figure>
</div>
</details><p>You can easily access the parameters (<a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.parameters.html#pisces.profiles.base.Profile.parameters" title="pisces.profiles.base.Profile.parameters"><code class="xref py py-attr docutils literal notranslate"><span class="pre">parameters</span></code></a>) and the units (<a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.units.html#pisces.profiles.base.Profile.units" title="pisces.profiles.base.Profile.units"><code class="xref py py-attr docutils literal notranslate"><span class="pre">units</span></code></a>)
of your profile instance at any time.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can always set the output units of a profile by specifying <code class="docutils literal notranslate"><span class="pre">units=...</span></code> when initializing it. The units must
be consistent the with class default (<a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.DEFAULT_UNITS.html#pisces.profiles.base.Profile.DEFAULT_UNITS" title="pisces.profiles.base.Profile.DEFAULT_UNITS"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DEFAULT_UNITS</span></code></a>), but other than that constraint,
they may be chosen to fit your need.</p>
</div>
</section>
<section id="symbolic-and-numeric-expressions">
<h2><span class="section-number">1.2. </span>Symbolic and Numeric Expressions<a class="headerlink" href="#symbolic-and-numeric-expressions" title="Link to this heading">#</a></h2>
<p>Each profile class supports both symbolic and numerical representations of its underlying function as well as symbolic and numerical
representations of special attributes like derivatives, integrals, and other properties. To access the underlying function, you can use
either <a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.symbolic_expression.html#pisces.profiles.base.Profile.symbolic_expression" title="pisces.profiles.base.Profile.symbolic_expression"><code class="xref py py-attr docutils literal notranslate"><span class="pre">symbolic_expression</span></code></a> to access the instance-level version (with parameters substituted in) or
<a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.class_symbolic_expression.html#pisces.profiles.base.Profile.class_symbolic_expression" title="pisces.profiles.base.Profile.class_symbolic_expression"><code class="xref py py-attr docutils literal notranslate"><span class="pre">class_symbolic_expression</span></code></a> to access the class-level version (without parameter substitution).</p>
<p>Other symbolic expressions related to the base function may exist for specific profiles. They are always registered in one of two
places / categories:</p>
<ul class="simple">
<li><p><strong>Class-Level Expressions</strong>: These are intrinsic to the <strong>class</strong>.</p></li>
<li><p><strong>Instance-Level Expressions</strong>: These are intrinsic to each <strong>instance</strong></p></li>
</ul>
<p>The instance level expressions can also be converted to <strong>numerical expressions</strong> which are then well suited to computational
tasks.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You cannot make class level expressions numerical because they still contain symbols for parameters. You can create an
instance-level version of any class-level expression and then create a numerical version of that. See the sections below
for details.</p>
</div>
<section id="class-level-expressions">
<h3><span class="section-number">1.2.1. </span>Class Level Expressions<a class="headerlink" href="#class-level-expressions" title="Link to this heading">#</a></h3>
<p>Class-level expressions are derived symbolic attributes shared across all instances of a profile class. These expressions
are often used to represent analytical properties like derivatives or asymptotic behaviors. The following functions provide
the user with interaction capabilities</p>
<ul class="simple">
<li><p><strong>Define</strong>: Use the <a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.set_class_expression.html#pisces.profiles.base.Profile.set_class_expression" title="pisces.profiles.base.Profile.set_class_expression"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_class_expression()</span></code></a> method to register a symbolic expression.</p></li>
<li><p><strong>Access</strong>: Use the <a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.get_class_expression.html#pisces.profiles.base.Profile.get_class_expression" title="pisces.profiles.base.Profile.get_class_expression"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_class_expression()</span></code></a> method to retrieve a registered symbolic expression.</p></li>
</ul>
<p>Class level expressions are functions of the symbolic axes (<a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.SYMBAXES.html#pisces.profiles.base.Profile.SYMBAXES" title="pisces.profiles.base.Profile.SYMBAXES"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SYMBAXES</span></code></a>) and the
symbolic parameters (<a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.SYMBPARAMS.html#pisces.profiles.base.Profile.SYMBPARAMS" title="pisces.profiles.base.Profile.SYMBPARAMS"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SYMBPARAMS</span></code></a>).</p>
</section>
<section id="instance-level-expressions">
<h3><span class="section-number">1.2.2. </span>Instance Level Expressions<a class="headerlink" href="#instance-level-expressions" title="Link to this heading">#</a></h3>
<p>Instance-level expressions are specific to a particular instance of a profile and can override
or extend class-level definitions. These expressions depend on the instance’s parameter values and are therefore
only functions of the symbolic axes (<a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.SYMBAXES.html#pisces.profiles.base.Profile.SYMBAXES" title="pisces.profiles.base.Profile.SYMBAXES"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SYMBAXES</span></code></a>).</p>
<p>Every <strong>class-level</strong> expression can be converted to a <strong>instance-level</strong> expression. This conversion is (by default) done
automatically when fetching an instance level attribute. Just like the class level attributes, you can access the instance level
attributes as</p>
<ul class="simple">
<li><p><strong>Define</strong>: Use the <a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.set_expression.html#pisces.profiles.base.Profile.set_expression" title="pisces.profiles.base.Profile.set_expression"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_expression()</span></code></a> method to register a symbolic expression.</p></li>
<li><p><strong>Access</strong>: Use the <a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.get_expression.html#pisces.profiles.base.Profile.get_expression" title="pisces.profiles.base.Profile.get_expression"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_expression()</span></code></a> method to retrieve a registered expression.</p></li>
</ul>
</section>
<section id="numerical-expressions">
<h3><span class="section-number">1.2.3. </span>Numerical Expressions<a class="headerlink" href="#numerical-expressions" title="Link to this heading">#</a></h3>
<p>Just as the <a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.html#pisces.profiles.base.Profile" title="pisces.profiles.base.Profile"><code class="xref py py-class docutils literal notranslate"><span class="pre">Profile</span></code></a> class keeps track of symbolic expressions, it can also keep track
of numerical expressions. For every <strong>instance-level</strong> expression, there is also a numerical equivalent accessed using
<a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.get_numeric_expression.html#pisces.profiles.base.Profile.get_numeric_expression" title="pisces.profiles.base.Profile.get_numeric_expression"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_numeric_expression()</span></code></a> which will pull the numerical expression from the class’s repository.
If the numerical version of an expression has not been used before, it is “lambdified” from the symbolic expression to produce
the callable function. These always take the <a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.AXES.html#pisces.profiles.base.Profile.AXES" title="pisces.profiles.base.Profile.AXES"><code class="xref py py-attr docutils literal notranslate"><span class="pre">AXES</span></code></a> as inputs (separate slots).</p>
</section>
</section>
<section id="serialization-and-io-procedures">
<h2><span class="section-number">1.3. </span>Serialization and IO Procedures<a class="headerlink" href="#serialization-and-io-procedures" title="Link to this heading">#</a></h2>
<p>Profiles in Pisces support serialization and deserialization using the HDF5 file format, allowing users to save profile
instances and later reload them. This functionality ensures that profiles can be stored persistently or shared across different environments.</p>
<section id="saving-profiles">
<h3><span class="section-number">1.3.1. </span>Saving Profiles<a class="headerlink" href="#saving-profiles" title="Link to this heading">#</a></h3>
<p>To save a profile instance, use the <a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.to_hdf5.html#pisces.profiles.base.Profile.to_hdf5" title="pisces.profiles.base.Profile.to_hdf5"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_hdf5()</span></code></a> method. This method writes the profile’s
class name, axes, units, and parameters to a specified HDF5 file or group.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">h5py</span>
<span class="kn">from</span> <span class="nn">pisces.profiles.density</span> <span class="kn">import</span> <span class="n">NFWDensityProfile</span>

<span class="c1"># Create a profile instance</span>
<span class="n">profile</span> <span class="o">=</span> <span class="n">NFWDensityProfile</span><span class="p">(</span><span class="n">rho_0</span><span class="o">=</span><span class="mf">1e5</span><span class="p">,</span> <span class="n">r_s</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>

<span class="c1"># Save the profile to an HDF5 file</span>
<span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="s1">&#39;profile.h5&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">profile</span><span class="o">.</span><span class="n">to_hdf5</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">group_name</span><span class="o">=</span><span class="s1">&#39;nfw_profile&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The <cite>group_name</cite> parameter specifies the HDF5 group under which the profile data will be saved. If a group with the same
name already exists and <cite>overwrite=False</cite> (default), the method will raise an error.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The method stores only the profile’s defining attributes (axes, parameters, and units) and not any custom instance-level
expressions. If additional data is associated with your profile, you must manage its storage separately.</p>
</div>
</section>
<section id="loading-profiles">
<h3><span class="section-number">1.3.2. </span>Loading Profiles<a class="headerlink" href="#loading-profiles" title="Link to this heading">#</a></h3>
<p>To load a profile from an HDF5 file, use the <a class="reference internal" href="../../_as_gen/pisces.profiles.base.Profile.from_hdf5.html#pisces.profiles.base.Profile.from_hdf5" title="pisces.profiles.base.Profile.from_hdf5"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_hdf5()</span></code></a> method. This method
reconstructs a profile instance using the saved attributes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load the profile from the HDF5 file</span>
<span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="s1">&#39;profile.h5&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">loaded_profile</span> <span class="o">=</span> <span class="n">NFWDensityProfile</span><span class="o">.</span><span class="n">from_hdf5</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">group_name</span><span class="o">=</span><span class="s1">&#39;nfw_profile&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The method automatically identifies the correct profile class based on the saved class name and initializes it with the
stored parameters and units.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can inspect the contents of an HDF5 file (e.g., using <cite>h5py.File.keys()</cite>) to view the available groups and their
structure before loading profiles.</p>
</div>
</section>
<section id="limitations">
<h3><span class="section-number">1.3.3. </span>Limitations<a class="headerlink" href="#limitations" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Custom Attributes</strong>: Only the attributes defined in the profile class are saved. Custom attributes or instance-level
symbolic expressions must be managed separately.</p></li>
<li><p><strong>Compatibility</strong>: Ensure that the same version of Pisces is used when saving and loading profiles, as changes in class
definitions may lead to incompatibilities.</p></li>
</ul>
</section>
<section id="use-cases">
<h3><span class="section-number">1.3.4. </span>Use Cases<a class="headerlink" href="#use-cases" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Persistent Storage</strong>: Save profiles to files for later reuse, avoiding the need to redefine them.</p></li>
<li><p><strong>Portability</strong>: Share profiles between users or systems using a standardized file format.</p></li>
<li><p><strong>Batch Processing</strong>: Save multiple profiles in a single HDF5 file, grouped by name, for streamlined data management.</p></li>
</ul>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../models/galaxy_clusters.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">1. </span>Galaxy Cluster Modeling</p>
      </div>
    </a>
    <a class="right-next"
       href="profiles_developer.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">2. </span>Profiles For Developers</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#initializing-and-calling-profiles">1.1. Initializing and Calling Profiles</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#symbolic-and-numeric-expressions">1.2. Symbolic and Numeric Expressions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#class-level-expressions">1.2.1. Class Level Expressions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#instance-level-expressions">1.2.2. Instance Level Expressions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#numerical-expressions">1.2.3. Numerical Expressions</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#serialization-and-io-procedures">1.3. Serialization and IO Procedures</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#saving-profiles">1.3.1. Saving Profiles</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-profiles">1.3.2. Loading Profiles</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#limitations">1.3.3. Limitations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#use-cases">1.3.4. Use Cases</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../_sources/reference/profiles/profiles_overview.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, Eliza Diggins.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.0.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>